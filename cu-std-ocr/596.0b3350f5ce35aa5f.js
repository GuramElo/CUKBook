(self.webpackChunkcu_std_ocr=self.webpackChunkcu_std_ocr||[]).push([[596],{2059:(f,l,t)=>{t.d(l,{Z:()=>E});var a=t(7849),c=t(3083);let E=(()=>{class o{constructor(){this.title="cu-std-ocr"}static#e=this.\u0275fac=function(_){return new(_||o)};static#t=this.\u0275cmp=c.\u0275\u0275defineComponent({type:o,selectors:[["app-root"]],standalone:!0,features:[c.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(_,m){1&_&&c.\u0275\u0275element(0,"router-outlet")},dependencies:[a.RouterModule,a.RouterOutlet]})}return o})()},8596:(f,l,t)=>{t.r(l),t.d(l,{appRoutes:()=>c});var a=t(2059),e=t(1646);const c=[{path:"",component:a.Z,children:[{path:"",component:e.h}]}]},1646:(f,l,t)=>{t.d(l,{h:()=>m});var a=t(467),e=t(3083),u=t(5003),o=t(5592);const d=["videoElement"],_=["canvasElement"];let m=(()=>{class i{constructor(){var s=this;(0,a.A)(function*(){s.tesseractWorker=yield u.createWorker("eng",u.OEM.DEFAULT,{logger:r=>console.log(r)})})()}ngOnInit(){}ngAfterViewInit(){this.setupCamera(),setTimeout(()=>{setInterval(()=>{this.captureScreenshot().then()},1e3)},5e3)}setupCamera(){var s=this;return(0,a.A)(function*(){const r=s.videoElement.nativeElement;try{const n=yield navigator.mediaDevices.getUserMedia({video:!0});r.srcObject=n}catch(n){console.error("Error accessing the camera:",n)}})()}captureScreenshot(){var s=this;return(0,a.A)(function*(){const r=s.videoElement.nativeElement,n=s.canvasElement.nativeElement,h=n.getContext("2d");n.width=r.videoWidth,n.height=r.videoHeight,h.drawImage(r,0,0,n.width,n.height);const p=o.imread(n);o.cvtColor(p,p,o.COLOR_RGBA2GRAY),o.imshow(n,p),p.delete();const C=n.toDataURL(),g=yield s.recognizeText(C);console.log("Recognized Text:",g)})()}recognizeText(s){var r=this;return(0,a.A)(function*(){yield r.tesseractWorker.load();const{data:{text:n}}=yield r.tesseractWorker.recognize(s);return n})()}ngOnDestroy(){this.tesseractWorker.terminate()}static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-camera-ocr"]],viewQuery:function(r,n){if(1&r&&(e.\u0275\u0275viewQuery(d,5),e.\u0275\u0275viewQuery(_,5)),2&r){let h;e.\u0275\u0275queryRefresh(h=e.\u0275\u0275loadQuery())&&(n.videoElement=h.first),e.\u0275\u0275queryRefresh(h=e.\u0275\u0275loadQuery())&&(n.canvasElement=h.first)}},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:9,vars:0,consts:[["videoElement",""],["canvasElement",""],["width","640","height","480","autoplay","","muted",""],[3,"click"],["width","640","height","480",2,"display","none"]],template:function(r,n){if(1&r){const h=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"h2"),e.\u0275\u0275text(2,"Screenshot Recognition Component"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"video",2,0),e.\u0275\u0275elementStart(5,"button",3),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(h),e.\u0275\u0275resetView(n.captureScreenshot())}),e.\u0275\u0275text(6,"Capture Screenshot"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(7,"canvas",4,1),e.\u0275\u0275elementEnd()}}})}return i})()},467:(f,l,t)=>{function a(c,u,E,o,v,d,_){try{var m=c[d](_),i=m.value}catch(O){return void E(O)}m.done?u(i):Promise.resolve(i).then(o,v)}function e(c){return function(){var u=this,E=arguments;return new Promise(function(o,v){var d=c.apply(u,E);function _(i){a(d,o,v,_,m,"next",i)}function m(i){a(d,o,v,_,m,"throw",i)}_(void 0)})}}t.d(l,{A:()=>e})}}]);